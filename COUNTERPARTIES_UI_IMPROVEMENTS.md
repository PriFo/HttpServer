# –£–ª—É—á—à–µ–Ω–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ CounterpartiesTab

**–î–∞—Ç–∞**: 2025-01-21  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

---

## ‚úÖ –í–Ω–µ—Å–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ) –º–æ–≥–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –∫–ª—é—á–µ–π React.

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `uniqueKey` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `CounterpartyItem`
- –°–æ–∑–¥–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á: `${source}-${id}-${database_id}-${project_id}-${index}`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `TableRow` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã React

```typescript
uniqueKey: `${item.source || 'unknown'}-${item.id}-${item.database_id || 'no-db'}-${item.project_id || 'no-proj'}-${index}`
```

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞—Ö

**–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è**:
- `project_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `database_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ tooltip —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ–µ–∫—Ç–µ –∏ –ë–î

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**:
```typescript
title={`${item.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}${item.project_name ? ` | –ü—Ä–æ–µ–∫—Ç: ${item.project_name}` : ''}${item.database_name ? ` | –ë–î: ${item.database_name}` : ''}`}
```

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

**–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –∏–∑ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (JSON —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –æ–±—ä–µ–∫—Ç)
- –ü–æ–∏—Å–∫ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–ª—è—Ö: `country`, `Country`, `—Å—Ç—Ä–∞–Ω–∞`, `–°—Ç—Ä–∞–Ω–∞`, `country_name`, `countryName`
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä—è–º–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω: –†–æ—Å—Å–∏—è, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω, –ë–µ–ª–∞—Ä—É—Å—å, –ì–µ—Ä–º–∞–Ω–∏—è, –î–∞–Ω–∏—è, –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**:
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π `<>` (–ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ 1–°)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª–µ–π: `name` ‚Üí `normalized_name` ‚Üí `source_name` ‚Üí `reference`
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è" –¥–ª—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### 4. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ö–æ–ª–æ–Ω–∫–∞ "–¢–∏–ø" –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ "–ò—Å—Ç–æ—á–Ω–∏–∫"
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: "–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω" –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –±–∞–∑
- –†–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã Badge –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è

```typescript
<Badge 
  variant={item.type === 'normalized' ? 'default' : 'secondary'}
  title={item.type === 'normalized' ? '–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç' : '–ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö'}
>
  {item.type === 'normalized' ? '–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω' : '–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö'}
</Badge>
```

### 5. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è

**–î–æ–±–∞–≤–ª–µ–Ω–æ**:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä—è–¥–æ–º —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
- Badge —Å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º –∫–∞—á–µ—Å—Ç–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "85%")
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

```typescript
{item.normalized_name ? (
  <span className="flex items-center gap-1">
    {item.normalized_name}
    {item.quality_score !== undefined && item.quality_score !== null && (
      <Badge variant="outline" className="text-xs">
        {Math.round(item.quality_score * 100)}%
      </Badge>
    )}
  </span>
) : (
  <span className="text-muted-foreground">‚Äî</span>
)}
```

### 6. –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "–ü—É—Å—Ç–æ"

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `EmptyState` –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã" –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö

```typescript
<EmptyState
  icon={Users}
  title="–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
  description={
    debouncedSearchQuery || selectedProjectId
      ? '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∏–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Ö'
      : '–í –ø—Ä–æ–µ–∫—Ç–∞—Ö –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ–∫–∞ –Ω–µ—Ç –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é.'
  }
  action={...}
/>
```

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ**:
- –û–ø–∏—Å–∞–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–æ: "–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ (–∏–∑ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)"
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ React**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º
2. **–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
3. **–õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –∏ –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
4. **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX**: –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API `/api/counterparties/all`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—è –∏–∑ `UnifiedCounterparty`
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö

---

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞

**–ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**:
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞"
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞" (85%)
- –ò–ù–ù/–ë–ò–ù: "1234567890"
- –ò—Å—Ç–æ—á–Ω–∏–∫: "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" (secondary badge)
- Tooltip: "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞ | –ü—Ä–æ–µ–∫—Ç: –ü—Ä–æ–µ–∫—Ç 1 | –ë–î: –ë–∞–∑–∞ 1–°"

**–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π**:
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞"
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "–û–û–û –†–û–ì–ê –ò –ö–û–ü–´–¢–ê" (92%)
- –ò–ù–ù/–ë–ò–ù: "1234567890"
- –ò—Å—Ç–æ—á–Ω–∏–∫: "–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω" (default badge)
- Tooltip: "–û–û–û –†–û–ì–ê –ò –ö–û–ü–´–¢–ê | –ü—Ä–æ–µ–∫—Ç: –ü—Ä–æ–µ–∫—Ç 1"

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞—Ö
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "–ü—É—Å—Ç–æ"
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£**

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 2025-01-21

