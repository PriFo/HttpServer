# –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –∏ —É–ª—É—á—à–µ–Ω–∏—è—Ö

## –î–∞—Ç–∞: 2025-01-XX

### –û–±–∑–æ—Ä

–í —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üîß –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Backend

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ backend —Å–µ—Ä–≤–µ—Ä—É. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 9999.
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –§—É–Ω–∫—Ü–∏—è `apiRequest` –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ –ø–æ–ª–Ω—ã–µ URL
- Health check –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint (`/api/health` –≤–º–µ—Å—Ç–æ `/health`)
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `NEXT_PUBLIC_BACKEND_URL`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ `frontend/lib/api-utils.ts`:
  - –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `getApiUrl` –∏–∑ `api-config.ts`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π –≤ –ø–æ–ª–Ω—ã–µ URL
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

- ‚úÖ `frontend/lib/api-config.ts`:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å health check: `/api/health` ‚Üí `/health`

- ‚úÖ `frontend/.env.local` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª):
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `NEXT_PUBLIC_BACKEND_URL=http://localhost:9999`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Frontend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ backend —á–µ—Ä–µ–∑ Next.js API routes.

---

### 2. –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∫–ª—é—á–∏ React

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
Encountered two children with the same key, `1c_data.db`. Keys should be unique...
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Backend –º–æ–≥ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ö–ª—é—á–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏, –±–µ–∑ —É—á–µ—Ç–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### `frontend/components/database-selector.tsx`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ `reduce()`
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å–∏ —Å `isCurrent: true`
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏: `path-index` –∏–ª–∏ `name-index`

#### `frontend/components/normalization/data-source-selector.tsx`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö: `data-source-${db.path || db.name}-${index}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü: `table-${table.name}-${index}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫: `col-ref-${col.name}-${index}`, `col-code-${col.name}-${index}`, `col-name-${col.name}-${index}`

#### `frontend/components/quality/quality-report-tab.tsx`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è —É—Ä–æ–≤–Ω–µ–π –∫–∞—á–µ—Å—Ç–≤–∞: `quality-level-${level.name}-${index}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤: `duplicate-${duplicate.id}-${index}` –∏–ª–∏ `duplicate-${duplicate.group_id}-${index}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è –Ω–∞—Ä—É—à–µ–Ω–∏–π: `violation-${violation.id}-${index}` –∏–ª–∏ `violation-${index}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è completeness: `completeness-${item.id}-${index}` –∏–ª–∏ `completeness-${index}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è consistency: `consistency-${item.id}-${index}` –∏–ª–∏ `consistency-${index}`

#### `frontend/components/quality/quality-duplicates-tab.tsx`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è –≥—Ä—É–ø–ø: `group-${group.id}-${groupIndex}` –∏–ª–∏ `group-${groupIndex}`
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –∫–ª—é—á–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤: `item-${item.id}-${itemIndex}` –∏–ª–∏ `item-${itemIndex}`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è React –æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–∞—Ö —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã.

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: 7
1. `frontend/lib/api-utils.ts`
2. `frontend/lib/api-config.ts`
3. `frontend/components/database-selector.tsx`
4. `frontend/components/normalization/data-source-selector.tsx`
5. `frontend/components/quality/quality-report-tab.tsx`
6. `frontend/components/quality/quality-duplicates-tab.tsx`
7. `frontend/.env.local` (–Ω–æ–≤—ã–π)

### –°–æ–∑–¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 4 —Ñ–∞–π–ª–∞
1. `BACKEND_CONNECTION_FIX.md`
2. `DUPLICATE_KEYS_FIX.md`
3. `FIXES_SUMMARY.md`
4. `COMPREHENSIVE_FIXES_REPORT.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ –ù–µ—Ç TODO/FIXME/HACK –≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Backend

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
curl http://localhost:9999/health

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# {"status":"healthy","time":"2025-..."}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–µ–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:3000
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–∞—Ö
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–ø–∏—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
   - –°–ø–∏—Å–æ–∫ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
   - –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü –≤ data-source-selector
   - –°–ø–∏—Å–æ–∫ –∫–æ–ª–æ–Ω–æ–∫
   - –û—Ç—á–µ—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏:**
   - –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ ID, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
   - –î–æ–±–∞–≤–ª—è–π—Ç–µ –∏–Ω–¥–µ–∫—Å –≤ –∫–ª—é—á –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –ø–æ–ª–µ–π –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

2. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã:**
   - –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `reduce()` –∏–ª–∏ `filter()` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   - –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–π—Ç–µ –≤–∞–∂–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `isCurrent: true`)

3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ API –∑–∞–ø—Ä–æ—Å—ã:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `apiRequest()` –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints –¥–ª—è health checks

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–≤–∫–ª—é—á–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã)
3. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ backend
4. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 9999
2. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ frontend –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
4. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
5. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `BACKEND_CONNECTION_FIX.md` - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `DUPLICATE_KEYS_FIX.md` - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π
- `FIXES_SUMMARY.md` - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ backend
- ‚úÖ –ù–µ –≤—ã–¥–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π React –æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–∞—Ö
- ‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ –∫ –¥—É–±–ª–∏–∫–∞—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç backend
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.

