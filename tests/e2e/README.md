# E2E –¢–µ—Å—Ç—ã

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫–≤–æ–∑–Ω—ã–µ (End-to-End) —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã

- **`full-project-e2e.spec.ts`** - –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **`data-management.spec.ts`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–≥—Ä—É–∑–∫–∞, –±—ç–∫–∞–ø, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- **`quality-management.spec.ts`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–∏–∑, –¥—É–±–ª–∏–∫–∞—Ç—ã, —Å–ª–∏—è–Ω–∏–µ)
- **`error-handling.spec.ts`** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **`accessibility.spec.ts`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (a11y) –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

- **`monitoring.spec.ts`** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- **`normalization.spec.ts`** - –ü—Ä–æ—Ü–µ—Å—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- **`reports.spec.ts`** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- **`user-roles.spec.ts`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- **`integration.spec.ts`** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **`system-summary.spec.ts`** - –°–∏—Å—Ç–µ–º–Ω–∞—è —Å–≤–æ–¥–∫–∞
- **`benchmarks.spec.ts`** - –ë–µ–Ω—á–º–∞—Ä–∫–∏ (—ç—Ç–∞–ª–æ–Ω—ã)
- **`classification.spec.ts`** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ö–ü–í–≠–î üÜï

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞

1. **Go-–±—ç–∫–µ–Ω–¥** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://127.0.0.1:9999`
   ```bash
   go run main.go
   # –∏–ª–∏
   docker-compose up -d backend
   ```

2. **Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:3000`
   ```bash
   cd frontend && npm run dev
   ```

3. **–¢–µ—Å—Ç–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (SQLite) –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –º–µ—Å—Ç:
   - `1c_data.db`
   - `data/1c_data.db`
   - `test-data.db`
   - `data/test-data.db`
   - `tests/data/test-data.db`

4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - `BACKEND_URL` - URL –±—ç–∫–µ–Ω–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://127.0.0.1:9999`)
   - `NEXT_PUBLIC_BASE_URL` - URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:3000`)

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –í—Å–µ —Ç–µ—Å—Ç—ã
```bash
cd frontend
npm run test:e2e
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
```bash
cd frontend
npx playwright test tests/e2e/data-management.spec.ts
```

### –° UI —Ä–µ–∂–∏–º–æ–º
```bash
cd frontend
npm run test:e2e:ui
```

### –í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
```bash
cd frontend
npm run test:e2e:debug
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞
```bash
cd frontend
npm run test:e2e:report
```

## –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–∞–±–æ—Ä–æ–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ (`data-management.spec.ts`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ë–î (–∑–∞–≥—Ä—É–∑–∫–∞ ‚Üí –±—ç–∫–∞–ø ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ–º (`quality-management.spec.ts`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –†—É—á–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (`error-handling.spec.ts`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫—É –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ –¢–∞–π–º–∞—É—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (`accessibility.spec.ts`)

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—é —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Tab, Enter, Shift+Tab)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ axe-core
- ‚úÖ ARIA –∞—Ç—Ä–∏–±—É—Ç—ã –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

## –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### API —É—Ç–∏–ª–∏—Ç—ã (`utils/api-testing.ts`)

- `createTestClient()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- `createTestProject()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `uploadDatabaseFile()` - –∑–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `cleanupTestData()` - –æ—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `createBackup()` - —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
- `listBackups()` - —Å–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤
- `restoreBackup()` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
- `getQualityDuplicates()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- `mergeDuplicates()` - —Å–ª–∏—è–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- `getQualityMetrics()` - –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- `findTestDatabase()` - –ø–æ–∏—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
- `listBenchmarks()` - —Å–ø–∏—Å–æ–∫ —ç—Ç–∞–ª–æ–Ω–æ–≤
- `getBenchmarkById()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–∞ –ø–æ ID
- `searchBenchmarks()` - –ø–æ–∏—Å–∫ —ç—Ç–∞–ª–æ–Ω–æ–≤
- `createBenchmarkFromUpload()` - —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–∞ –∏–∑ –∑–∞–≥—Ä—É–∑–∫–∏

**–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- `getKpvedHierarchy()` - –∏–µ—Ä–∞—Ä—Ö–∏—è –ö–ü–í–≠–î
- `searchKpved()` - –ø–æ–∏—Å–∫ –ø–æ –ö–ü–í–≠–î
- `getKpvedStats()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ö–ü–í–≠–î
- `testClassification()` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (`utils/database-testing.ts`)

- `createTestDatabase()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —à–∞–±–ª–æ–Ω, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- `checkDatabaseIntegrity()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ë–î (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ SQLite)
- `getDatabaseStats()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ë–î (—Ä–∞–∑–º–µ—Ä, –¥–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- `copyDatabase()` - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
- `deleteDatabase()` - —É–¥–∞–ª–µ–Ω–∏–µ –ë–î
- `isValidSQLiteFile()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ SQLite —Ñ–∞–π–ª–∞

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `@playwright/test` - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `@axe-core/playwright` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `frontend/playwright.config.ts`:

- –¢–∞–π–º–∞—É—Ç —Ç–µ—Å—Ç–∞: 2 –º–∏–Ω—É—Ç—ã
- –¢–∞–π–º–∞—É—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: 30 —Å–µ–∫—É–Ω–¥
- –¢–∞–π–º–∞—É—Ç –¥–µ–π—Å—Ç–≤–∏–π: 15 —Å–µ–∫—É–Ω–¥
- –¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏–π: 10 —Å–µ–∫—É–Ω–¥

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç –∏ –æ—á–∏—â–∞—é—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –¢–µ—Å—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –ø—Ä–æ–ø—É—â–µ–Ω—ã (skip)
- –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –ø–æ—ç—Ç–æ–º—É —Ç—Ä–µ–±—É—é—Ç –∏—Ö –∑–∞–ø—É—Å–∫–∞

## Troubleshooting

### –¢–µ—Å—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç –±—ç–∫–µ–Ω–¥
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:9999`

### –¢–µ—Å—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3000`

### –¢–µ—Å—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç —Ç–µ—Å—Ç–æ–≤—É—é –ë–î
–ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –ë–î –≤ –æ–¥–∏–Ω –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—É—Ç–µ–π –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ `findTestDatabase()` –≤ `utils/api-testing.ts`

### –û—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (a11y)
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—á–µ—Ç axe-core –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –Ω–∞—Ä—É—à–µ–Ω–∏–π
