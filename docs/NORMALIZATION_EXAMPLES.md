# üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–∏–∫ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –ù–°–ò

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü—Ä–∏–º–µ—Ä—ã –±–∞–∑–æ–≤–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏](#1-–ø—Ä–∏–º–µ—Ä—ã-–±–∞–∑–æ–≤–æ–π-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏)
2. [–ü—Ä–∏–º–µ—Ä—ã –ø–æ–∏—Å–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤](#2-–ø—Ä–∏–º–µ—Ä—ã-–ø–æ–∏—Å–∫–∞-–¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
3. [–ü—Ä–∏–º–µ—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤](#3-–ø—Ä–∏–º–µ—Ä—ã-–∏–∑–≤–ª–µ—á–µ–Ω–∏—è-–∞—Ç—Ä–∏–±—É—Ç–æ–≤)
4. [–ü—Ä–∏–º–µ—Ä—ã Fuzzy Matching](#4-–ø—Ä–∏–º–µ—Ä—ã-fuzzy-matching)
5. [–ü—Ä–∏–º–µ—Ä—ã AI-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏](#5-–ø—Ä–∏–º–µ—Ä—ã-ai-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏)
6. [–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#6-–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)

---

## 1. –ü—Ä–∏–º–µ—Ä—ã –±–∞–∑–æ–≤–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1.1: –ü—Ä–æ—Å—Ç–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"WBC00Z0002 –ö–∞–±–µ–ª—å –í–í–ì 3x2.5 120mm"
```

**–ö–æ–¥:**
```go
normalizer := normalization.NewNameNormalizer()
result := normalizer.NormalizeName("WBC00Z0002 –ö–∞–±–µ–ª—å –í–í–ì 3x2.5 120mm")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
"–∫–∞–±–µ–ª—å –≤–≤–≥"
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω –∞—Ä—Ç–∏–∫—É–ª "WBC00Z0002"
- ‚úÖ –£–¥–∞–ª–µ–Ω —Ä–∞–∑–º–µ—Ä "3x2.5"
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è "120mm"
- ‚úÖ –ü—Ä–∏–≤–µ–¥–µ–Ω–æ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã

### –ü—Ä–∏–º–µ—Ä 1.2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∫–æ–¥–æ–º

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"ER-00013004 –ö–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –í–í–ì–Ω–≥ 3x4 220V"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
"–∫–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –≤–≤–≥–Ω–≥"
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–¥ "ER-00013004"
- ‚úÖ –£–¥–∞–ª–µ–Ω —Ä–∞–∑–º–µ—Ä "3x4"
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ "220V"
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è "–≤–≤–≥–Ω–≥"

### –ü—Ä–∏–º–µ—Ä 1.3: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–¢—Ä—É–±–∞ –ü–í–• 50–º–º 2–º 10—à—Ç"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
"—Ç—Ä—É–±–∞ –ø–≤—Ö"
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω –¥–∏–∞–º–µ—Ç—Ä "50–º–º"
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –¥–ª–∏–Ω–∞ "2–º"
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "10—à—Ç"

---

## 2. –ü—Ä–∏–º–µ—Ä—ã –ø–æ–∏—Å–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 2.1: –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –∫–æ–¥—É

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```go
items := []DuplicateItem{
    {ID: 1, Code: "001", NormalizedName: "–∫–∞–±–µ–ª—å –≤–≤–≥"},
    {ID: 2, Code: "001", NormalizedName: "–ö–∞–±–µ–ª—å –í–í–ì"},
    {ID: 3, Code: "002", NormalizedName: "–∫–∞–±–µ–ª—å –≤–≤–≥"},
}
```

**–ö–æ–¥:**
```go
analyzer := normalization.NewDuplicateAnalyzer()
groups := analyzer.AnalyzeDuplicates(items)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "group_id": "code_0",
  "type": "exact",
  "similarity_score": 1.0,
  "item_ids": [1, 2],
  "confidence": 1.0,
  "reason": "Exact match by code: 001"
}
```

### –ü—Ä–∏–º–µ—Ä 2.2: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–∫–∞–±–µ–ª—å –≤–≤–≥ 3x2.5"
"–∫–∞–±–µ–ª—å –≤–≤–≥ 3x4"
"–∫–∞–±–µ–ª—å –≤–≤–≥–Ω–≥ 3x2.5"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ì—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ (cosine similarity > 0.85)
- –û–±—â–∏–µ —Å–ª–æ–≤–∞: ["–∫–∞–±–µ–ª—å", "–≤–≤–≥"]
- –†–∞–∑–ª–∏—á–∏—è –≤ —Ä–∞–∑–º–µ—Ä–∞—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

### –ü—Ä–∏–º–µ—Ä 2.3: –§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ (–æ–ø–µ—á–∞—Ç–∫–∏)

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–∫–∞–±–µ–ª—å –≤–≤–≥"
"–∫–∞–±–µ–ª –≤–≤–≥"      // –æ–ø–µ—á–∞—Ç–∫–∞
"–∫–∞–±–µ–ª—å –≤–≤–≥–Ω"    // –æ–ø–µ—á–∞—Ç–∫–∞
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ì—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ (phonetic hash —Å–æ–≤–ø–∞–¥–∞–µ—Ç)
- –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ–ø–µ—á–∞—Ç–∫–∏
- –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 0.90

### –ü—Ä–∏–º–µ—Ä 2.4: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–ª–æ–≤–∞–º

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–∫–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –≤–≤–≥ 3x2.5"
"–∫–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –≤–≤–≥ 3x4"
"–∫–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –≤–≤–≥–Ω–≥ 3x2.5"
"–ø—Ä–æ–≤–æ–¥ –º–æ–Ω—Ç–∞–∂–Ω—ã–π –ø–≤—Å"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–µ—Ä–≤—ã–µ 3 –∑–∞–ø–∏—Å–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è (–æ–±—â–∏–µ —Å–ª–æ–≤–∞: "–∫–∞–±–µ–ª—å", "—Å–∏–ª–æ–≤–æ–π", "–≤–≤–≥")
- –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≥—Ä—É–ø–ø–µ

---

## 3. –ü—Ä–∏–º–µ—Ä—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 3.1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"WBC00Z0002 –ö–∞–±–µ–ª—å –í–í–ì 3x2.5 120mm ER-00013004"
```

**–ö–æ–¥:**
```go
normalized, attrs := normalizer.ExtractAttributes("WBC00Z0002 –ö–∞–±–µ–ª—å –í–í–ì 3x2.5 120mm ER-00013004")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "normalized": "–∫–∞–±–µ–ª—å –≤–≤–≥",
  "attributes": [
    {
      "type": "article_code",
      "name": "article",
      "value": "WBC00Z0002",
      "position": 0,
      "confidence": 1.0
    },
    {
      "type": "dimension",
      "name": "dimension",
      "value": "3x2.5",
      "position": 15,
      "confidence": 1.0
    },
    {
      "type": "measurement",
      "name": "measurement",
      "value": "120mm",
      "position": 22,
      "confidence": 1.0
    },
    {
      "type": "technical_code",
      "name": "code",
      "value": "ER-00013004",
      "position": 30,
      "confidence": 1.0
    }
  ]
}
```

### –ü—Ä–∏–º–µ—Ä 3.2: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–ö–∞–±–µ–ª—å –í–í–ì (3x2.5, 120mm, —Å–µ—Ä–∞—è –∏–∑–æ–ª—è—Ü–∏—è)"
```

**–ö–æ–¥:**
```go
normalized, attrs := normalizer.ExtractAttributesContextual("–ö–∞–±–µ–ª—å –í–í–ì (3x2.5, 120mm, —Å–µ—Ä–∞—è –∏–∑–æ–ª—è—Ü–∏—è)")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏–∑ —Å–∫–æ–±–æ–∫
- –£—á–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –ø–æ—Ä—è–¥–∫–∞
- –õ—É—á—à–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü

---

## 4. –ü—Ä–∏–º–µ—Ä—ã Fuzzy Matching

### –ü—Ä–∏–º–µ—Ä 4.1: –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–ø–∏—Å–µ–π

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–∫–∞–±–µ–ª—å –≤–≤–≥ 3x2.5"
"–∫–∞–±–µ–ª—å –≤–≤–≥ 3x4"
"–∫–∞–±–µ–ª—å –≤–≤–≥–Ω–≥ 3x2.5"
"–ø—Ä–æ–≤–æ–¥ –ø–≤—Å"
```

**–ö–æ–¥:**
```go
fuzzyMatcher := quality.NewFuzzyMatcher(db, 0.85)
duplicates := fuzzyMatcher.FindDuplicateNames(uploadID, databaseID)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–µ—Ä–≤—ã–µ 3 –∑–∞–ø–∏—Å–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è (similarity > 0.85)
- –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –≥—Ä—É–ø–ø—É

### –ü—Ä–∏–º–µ—Ä 4.2: Levenshtein Distance

**–ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π:**
```
levenshteinDistance("–∫–∞–±–µ–ª—å", "–∫–∞–±–µ–ª") = 1
levenshteinDistance("–∫–∞–±–µ–ª—å", "–∫–∞–±–µ–ª–∏") = 1
levenshteinDistance("–∫–∞–±–µ–ª—å", "–ø—Ä–æ–≤–æ–¥") = 6
```

**–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å—Ö–æ–∂–µ—Å—Ç–∏:**
```
calculateSimilarity("–∫–∞–±–µ–ª—å", "–∫–∞–±–µ–ª") = 0.83 (83%)
calculateSimilarity("–∫–∞–±–µ–ª—å", "–∫–∞–±–µ–ª–∏") = 0.86 (86%)
calculateSimilarity("–∫–∞–±–µ–ª—å", "–ø—Ä–æ–≤–æ–¥") = 0.0 (0%)
```

---

## 5. –ü—Ä–∏–º–µ—Ä—ã AI-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 5.1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ AI

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
"–ö–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –í–í–ì–Ω–≥-LS 3x4+1x2.5 0.66/1–∫–í –ì–û–°–¢ 31996-2012"
```

**–ö–æ–¥:**
```go
aiNormalizer := normalization.NewAINormalizer(aiConfig)
requires := aiNormalizer.RequiresAI(name, category)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `requires = true` (—Å–ª–æ–∂–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∞—Ç—Ä–∏–±—É—Ç–æ–≤)

### –ü—Ä–∏–º–µ—Ä 5.2: AI-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

**–ö–æ–¥:**
```go
result, err := aiNormalizer.NormalizeWithAI(
    "–ö–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –í–í–ì–Ω–≥-LS 3x4+1x2.5 0.66/1–∫–í –ì–û–°–¢ 31996-2012",
    "–ö–∞–±–µ–ª–∏ –∏ –ø—Ä–æ–≤–æ–¥–∞",
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "normalized_name": "–∫–∞–±–µ–ª—å —Å–∏–ª–æ–≤–æ–π –≤–≤–≥–Ω–≥-ls",
  "category": "–ö–∞–±–µ–ª–∏ –∏ –ø—Ä–æ–≤–æ–¥–∞",
  "confidence": 0.95,
  "reasoning": "–ò–∑–≤–ª–µ—á–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏: —Ç–∏–ø –∫–∞–±–µ–ª—è –í–í–ì–Ω–≥-LS, —Å–µ—á–µ–Ω–∏–µ 3x4+1x2.5, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ 0.66/1–∫–í. –£–¥–∞–ª–µ–Ω—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –ì–û–°–¢.",
  "attributes": [
    {"type": "dimension", "value": "3x4+1x2.5"},
    {"type": "voltage", "value": "0.66/1–∫–í"},
    {"type": "standard", "value": "–ì–û–°–¢ 31996-2012"}
  ]
}
```

---

## 6. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 6.1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

**–ó–∞–¥–∞—á–∞:** –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –Ω–∞–π—Ç–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã

**–ö–æ–¥:**
```go
// 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
db := database.NewDB("path/to/db")
normalizer := normalization.NewNormalizer(db, events, aiConfig)

// 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
items, err := db.GetCatalogItemsFromTable("catalog_items", "reference", "code", "name")

// 3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏
for _, item := range items {
    // –ë–∞–∑–æ–≤–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    category := categorizer.Categorize(item.Name)
    normalized, attrs := nameNormalizer.ExtractAttributes(item.Name)
    
    // AI-—É—Å–∏–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    if aiNormalizer.RequiresAI(item.Name, category) {
        aiResult, _ := aiNormalizer.NormalizeWithAI(item.Name, category)
        if aiResult.Confidence >= 0.9 {
            normalized = aiResult.NormalizedName
            category = aiResult.Category
        }
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏
    normalizedItem := &database.NormalizedItem{
        Code:           item.Code,
        NormalizedName: normalized,
        Category:       category,
        Attributes:     attrs,
    }
    db.SaveNormalizedItem(normalizedItem)
}

// 4. –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
analyzer := normalization.NewDuplicateAnalyzer()
duplicateItems := convertToDuplicateItems(normalizedItems)
groups := analyzer.AnalyzeDuplicates(duplicateItems)

// 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
for _, group := range groups {
    masterID := group.SuggestedMaster
    // –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Å master-–∑–∞–ø–∏—Å—å—é
    db.MergeDuplicates(group.ItemIDs, masterID)
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 6.2: –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ó–∞–¥–∞—á–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–ö–æ–¥:**
```go
func CheckForDuplicates(newItem *database.CatalogItem, db *database.DB) ([]DuplicateGroup, error) {
    // 1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏
    normalizer := normalization.NewNameNormalizer()
    normalized := normalizer.NormalizeName(newItem.Name)
    
    // 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π
    existingItems, err := db.GetNormalizedItemsBySimilarNames([]string{normalized})
    if err != nil {
        return nil, err
    }
    
    // 3. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    items := []normalization.DuplicateItem{
        {
            ID:             0, // –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å
            Code:           newItem.Code,
            NormalizedName: normalized,
        },
    }
    for _, existing := range existingItems {
        items = append(items, normalization.DuplicateItem{
            ID:             existing.ID,
            Code:           existing.Code,
            NormalizedName: existing.NormalizedName,
        })
    }
    
    // 4. –ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
    analyzer := normalization.NewDuplicateAnalyzer()
    groups := analyzer.AnalyzeDuplicates(items)
    
    // 5. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≥—Ä—É–ø–ø, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
    result := []normalization.DuplicateGroup{}
    for _, group := range groups {
        for _, itemID := range group.ItemIDs {
            if itemID == 0 { // –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å
                result = append(result, group)
                break
            }
        }
    }
    
    return result, nil
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 6.3: –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

**–ó–∞–¥–∞—á–∞:** –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–ö–æ–¥:**
```go
func ProcessLargeDataset(db *database.DB, items []*database.CatalogItem) error {
    normalizer := normalization.NewNormalizer(db, events, aiConfig)
    
    // –í–∫–ª—é—á–µ–Ω–∏–µ checkpoint'–æ–≤
    normalizer.EnableCheckpoints(true)
    normalizer.SetCheckpointDir("./checkpoints")
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å –±–∞—Ç—á–∏–Ω–≥–æ–º
    batchSize := 1000
    for i := 0; i < len(items); i += batchSize {
        end := i + batchSize
        if end > len(items) {
            end = len(items)
        }
        
        batch := items[i:end]
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞
        for _, item := range batch {
            // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
            // ...
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ checkpoint
        normalizer.SaveCheckpoint(i + len(batch))
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ
        progress := float64(end) / float64(len(items)) * 100
        events <- fmt.Sprintf("–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: %d/%d (%.1f%%)", end, len(items), progress)
    }
    
    return nil
}
```

---

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### 7.1. –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

| –°–∏—Ç—É–∞—Ü–∏—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–µ—Ç–æ–¥ |
|----------|---------------------|
| –ü—Ä–æ—Å—Ç—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è | –ë–∞–∑–æ–≤–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è |
| –°–ª–æ–∂–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∞—Ç—Ä–∏–±—É—Ç–æ–≤ | AI-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è |
| –ü–æ–∏—Å–∫ —Ç–æ—á–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ | Exact matching |
| –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–ø–∏—Å–µ–π | Fuzzy matching |
| –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫ | –§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ |
| –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | Word-based grouping |

### 7.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤

```go
// –î–ª—è —Å—Ç—Ä–æ–≥–æ–≥–æ –ø–æ–∏—Å–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
analyzer.exactThreshold = 1.0
analyzer.semanticThreshold = 0.95
analyzer.phoneticThreshold = 0.95

// –î–ª—è –±–æ–ª–µ–µ –º—è–≥–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
analyzer.exactThreshold = 0.95
analyzer.semanticThreshold = 0.80
analyzer.phoneticThreshold = 0.85
```

### 7.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```go
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞—Ç—á–∏–Ω–≥–∞
fuzzyMatcher.batchSize = 500
fuzzyMatcher.maxComparisons = 1000

// –ü—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
fuzzyMatcher.prefixLength = 3
```

---

## 8. –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 8.1: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 8.2: –ü—Ä–æ–ø—É—Å–∫ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- –°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –î–æ–±–∞–≤–∏—Ç—å AI-–∞–Ω–∞–ª–∏–∑

### –ü—Ä–æ–±–ª–µ–º–∞ 8.3: –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞—Ç—á–∏–Ω–≥
- –í–∫–ª—é—á–∏—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å–Ω—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 20 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

