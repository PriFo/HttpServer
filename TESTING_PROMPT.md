# –ü—Ä–æ–º—Ç –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

## –†–æ–ª—å

–¢—ã ‚Äî Senior QA Engineer (SDET) —Å —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–æ–π –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, API –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ–∑–¥–∞—Ç—å –≤—Å–µ–æ–±—ä–µ–º–ª—é—â–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä–∏—Ç –∫–∞–∂–¥—ã–π –∞—Å–ø–µ–∫—Ç –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏, —É—á–∏—Ç—ã–≤–∞—è –≤—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.

## –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–∏—Å—Ç–µ–º—ã

–ú—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ —Å–ª–æ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –∏ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã. –ï—ë –∫–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

1. **–ú—É–ª—å—Ç–∏-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ AI**:
   - OpenRouter (1 –∫–∞–Ω–∞–ª)
   - Hugging Face (1 –∫–∞–Ω–∞–ª)
   - Arliai (2 –∫–∞–Ω–∞–ª–∞)
   - Eden AI (1 –∫–∞–Ω–∞–ª)
   - –í—Å–µ–≥–æ 4 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, 5 –∫–∞–Ω–∞–ª–æ–≤

2. **–£–º–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤**:
   - DaData.ru –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ (–ò–ù–ù: 10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)
   - Adata.kz –¥–ª—è –∫–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏—Ö –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ (–ë–ò–ù: 12 —Ü–∏—Ñ—Ä)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ù–ù/–ë–ò–ù
   - Fallback –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ AI, –µ—Å–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

3. **–°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è (Majority Vote)**:
   - –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è –º–µ—Ç–æ–¥–æ–º majority vote
   - –ï—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–æ–ª–æ—Å–æ–≤

4. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–∞–ª–æ–Ω—ã (benchmarks) –∏–∑ –ë–î –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è
   - –í–Ω–µ—à–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (DaData, Adata, GISP) –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è AI-–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ NameNormalizer, –µ—Å–ª–∏ —ç—Ç–∞–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω
   - –ú–µ—Ö–∞–Ω–∏–∑–º –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (stopCheck) –¥–ª—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

5. **Frontend (Next.js)**:
   - `/quality` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ç–∞–±–∞–º–∏
   - `/data-quality` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç—á–µ—Ç–∞ –æ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö
   - `/monitoring` - real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (SSE)
   - `/reports` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF-–æ—Ç—á–µ—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **Backend —Ç–µ—Å—Ç—ã**: `server/*_test.go`
- **Integration —Ç–µ—Å—Ç—ã**: `integration/*_test.go`
- **E2E —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–µ—Å—Ç—ã**: `tests/e2e/*.spec.ts` (—Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
- **Performance —Ç–µ—Å—Ç—ã**: `tests/performance/*_test.go`
- **Golden dataset**: `tests/data_integrity/golden_dataset.json`

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã

- ‚úÖ `server/multi_provider_client_test.go` - –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –º—É–ª—å—Ç–∏-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ `integration/counterparty_normalization_e2e_test.go` - E2E —Ç–µ—Å—Ç—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚ùå `server/counterparty_provider_router.go` - —Ä–æ—É—Ç–µ—Ä –ë–ï–ó —Ç–µ—Å—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å)
- ‚ùå E2E —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

## –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –±—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞.

---

## üìã –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ß–∞—Å—Ç—å 1: Unit –∏ Integration —Ç–µ—Å—Ç—ã (Backend)

#### 1.1. –¢–µ—Å—Ç—ã "–£–º–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞" (`server/provider_router_test.go`)

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**: `server/provider_router_test.go`

**–ó–∞–¥–∞—á–∞**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ù–ù/–ë–ò–ù.

**–¢–µ—Å—Ç—ã**:

1. **TestCounterpartyProviderRouter_RouteByTaxID_RussianINN_10Digits**:
   - –°–æ–∑–¥–∞–π –º–æ–∫–∏ –¥–ª—è `DaDataClient` –∏ `AdataKzClient`
   - –ü–µ—Ä–µ–¥–∞–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ò–ù–ù (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: "1234567890")
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `RouteByTaxID` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `dadataAdapter`
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `adataAdapter` –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

2. **TestCounterpartyProviderRouter_RouteByTaxID_RussianINN_12Digits**:
   - –ü–µ—Ä–µ–¥–∞–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ò–ù–ù (12 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: "123456789012")
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `dadataAdapter`

3. **TestCounterpartyProviderRouter_RouteByTaxID_KazakhBIN**:
   - –ü–µ—Ä–µ–¥–∞–π –∫–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏–π –ë–ò–ù (12 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: "123456789012")
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `adataAdapter`
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `dadataAdapter` –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

4. **TestCounterpartyProviderRouter_RouteByTaxID_InvalidINN**:
   - –ü–µ—Ä–µ–¥–∞–π –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ò–ù–ù (–Ω–∞–ø—Ä–∏–º–µ—Ä, 9 —Ü–∏—Ñ—Ä –∏–ª–∏ –±—É–∫–≤—ã)
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `nil`

5. **TestCounterpartyProviderRouter_RouteByTaxID_BINPriority**:
   - –ü–µ—Ä–µ–¥–∞–π –∏ –ò–ù–ù (12 —Ü–∏—Ñ—Ä), –∏ –ë–ò–ù (12 —Ü–∏—Ñ—Ä)
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ë–ò–ù –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `adataAdapter`

6. **TestCounterpartyProviderRouter_StandardizeCounterparty_Success**:
   - –ù–∞—Å—Ç—Ä–æ–π –º–æ–∫ `dadataAdapter` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è
   - –í—ã–∑–æ–≤–∏ `StandardizeCounterparty` —Å –≤–∞–ª–∏–¥–Ω—ã–º –ò–ù–ù
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

7. **TestCounterpartyProviderRouter_StandardizeCounterparty_ProviderError**:
   - –ù–∞—Å—Ç—Ä–æ–π –º–æ–∫ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ—à–∏–±–∫–∏
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—à–∏–±–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

**–ò—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–∫–∏**: –ê–¥–∞–ø—Ç–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–∫–æ–≤ –∏–∑ `server/multi_provider_client_test.go`.

---

#### 1.2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –º—É–ª—å—Ç–∏-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (`server/multi_provider_client_test.go`)

**–§–∞–π–ª –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: `server/multi_provider_client_test.go`

**–ó–∞–¥–∞—á–∞**: –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã**:

1. **TestMultiProviderClient_NormalizeName_MajorityVote**:
   - –ù–∞—Å—Ç—Ä–æ–π 3 –º–æ–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
   - 2 –∏–∑ 3 –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ("–û–û–û –¢–µ—Å—Ç")
   - 1 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥—Ä—É–≥–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ("–û–û–û –¢–µ—Å—Ç–æ–≤–∞—è –ö–æ–º–ø–∞–Ω–∏—è")
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `NormalizeName` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–û–û–û –¢–µ—Å—Ç" (majority vote)

2. **TestMultiProviderClient_NormalizeName_NoMajority**:
   - –í—Å–µ 3 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∏–ª–∏ —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≥–æ–ª–æ—Å–æ–≤)

3. **TestMultiProviderClient_NormalizeName_OneProviderFails**:
   - –û–¥–∏–Ω –∏–∑ –º–æ–∫–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ 2 –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

4. **TestMultiProviderClient_NormalizeName_AllProvidersFail**:
   - –í—Å–µ –º–æ–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è

5. **TestMultiProviderClient_NormalizeName_MultipleChannels**:
   - –ù–∞—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å 2 –∫–∞–Ω–∞–ª–∞–º–∏
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–±–∞ –∫–∞–Ω–∞–ª–∞ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç –æ–±–æ–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏

6. **TestMultiProviderClient_NormalizeCounterparty_RouterFallback**:
   - –ù–∞—Å—Ç—Ä–æ–π —Ä–æ—É—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–Ω–µ—Ç –ò–ù–ù/–ë–ò–ù)
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fallback –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

---

#### 1.3. –¢–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (`normalization/counterparty_normalizer_test.go`)

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: `normalization/counterparty_normalizer_test.go`

**–ó–∞–¥–∞—á–∞**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤.

**–¢–µ—Å—Ç—ã**:

1. **TestCounterpartyNormalizer_FindBenchmarkByTaxID_Success**:
   - –ò—Å–ø–æ–ª—å–∑—É–π `t.TempDir()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ë–î
   - –°–æ–∑–¥–∞–π —ç—Ç–∞–ª–æ–Ω (benchmark) —Å –ò–ù–ù "1234567890"
   - –í—ã–∑–æ–≤–∏ `FindBenchmarkByTaxID` —Å —ç—Ç–∏–º –ò–ù–ù
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ —ç—Ç–∞–ª–æ–Ω –Ω–∞–π–¥–µ–Ω

2. **TestCounterpartyNormalizer_FindBenchmarkByTaxID_NotFound**:
   - –í—ã–∑–æ–≤–∏ `FindBenchmarkByTaxID` —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ò–ù–ù
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `nil, nil` (–Ω–µ –æ—à–∏–±–∫–∞)

3. **TestCounterpartyNormalizer_NormalizeCounterparty_WithBenchmark**:
   - –°–æ–∑–¥–∞–π —ç—Ç–∞–ª–æ–Ω —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, —Ç–µ–ª–µ—Ñ–æ–Ω)
   - –í—ã–∑–æ–≤–∏ `NormalizeCounterparty` —Å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–º, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –ò–ù–ù –∏–∑ —ç—Ç–∞–ª–æ–Ω–∞
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ–±–æ–≥–∞—â–µ–Ω—ã –∏–∑ —ç—Ç–∞–ª–æ–Ω–∞
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `EnrichmentApplied = true` –∏ `SourceEnrichment = "benchmark"`

4. **TestCounterpartyNormalizer_NormalizeCounterparty_WithoutBenchmark**:
   - –í—ã–∑–æ–≤–∏ `NormalizeCounterparty` —Å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–º –±–µ–∑ —ç—Ç–∞–ª–æ–Ω–∞
   - –ï—Å–ª–∏ `nameNormalizer` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —É–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   - –ï—Å–ª–∏ `nameNormalizer` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —É–±–µ–¥–∏—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏—Å—Ö–æ–¥–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

5. **TestCounterpartyNormalizer_ProcessNormalization_StopCheck**:
   - –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—É—é –ë–î —Å 100 –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞–º–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏ `stopCheck` —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true` –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ 50 –∑–∞–ø–∏—Å–µ–π
   - –ó–∞–ø—É—Å—Ç–∏ `ProcessNormalization`
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –ø–æ—Å–ª–µ ~50 –∑–∞–ø–∏—Å–µ–π
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `ErrMsgNormalizationStopped`

6. **TestCounterpartyNormalizer_ProcessNormalization_DuplicateGrouping**:
   - –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —è–≤–Ω—ã–º–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ò–ù–ù, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è)
   - –ó–∞–ø—É—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã –∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã

---

### –ß–∞—Å—Ç—å 2: End-to-End (E2E) —Ç–µ—Å—Ç—ã (–ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π)

#### 2.1. E2E —Ç–µ—Å—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (`tests/e2e/normalization.spec.ts`)

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**: `tests/e2e/normalization.spec.ts`

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**: Playwright (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ Cypress

**–ó–∞–¥–∞—á–∞**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

**–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:8080`
- Frontend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:3000`
- –í –ë–î –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã –∏ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞)

**–¢–µ—Å—Ç "–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏"**:

```typescript
test('–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ –∏ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã', async ({ page }) => {
  // –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î –∏–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞
  await page.goto('http://localhost:3000/quality')
  
  // –®–∞–≥ 2: –í—ã–±—Ä–∞—Ç—å –ë–î (–µ—Å–ª–∏ –µ—Å—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä)
  // await page.selectOption('select[name="database"]', 'test-db')
  
  // –®–∞–≥ 3: –ù–∞–∂–∞—Ç—å "–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö" –∏–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
  const analyzeButton = page.locator('button:has-text("–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞")')
  if (await analyzeButton.isVisible()) {
    await analyzeButton.click()
  }
  
  // –®–∞–≥ 4: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞
  await page.goto('http://localhost:3000/data-quality')
  
  // –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
  await expect(page.locator('text=–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞')).toBeVisible()
  await expect(page.locator('text=–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã')).toBeVisible()
  await expect(page.locator('text=–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞')).toBeVisible()
  
  // –®–∞–≥ 6: –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é" (–µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –µ—Å—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
  // –ò–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
  const startButton = page.locator('button:has-text("–ù–∞—á–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é")')
  if (await startButton.isVisible()) {
    await startButton.click()
  } else {
    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    await page.goto('http://localhost:3000/processes?tab=normalization')
    await page.locator('button:has-text("–ó–∞–ø—É—Å—Ç–∏—Ç—å")').click()
  }
  
  // –®–∞–≥ 7: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  await page.goto('http://localhost:3000/monitoring')
  
  // –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ 4 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
  await expect(page.locator('text=Arliai')).toBeVisible()
  await expect(page.locator('text=OpenRouter')).toBeVisible()
  await expect(page.locator('text=Hugging Face')).toBeVisible()
  // Eden AI –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  
  // –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–≤–∏–≥–∞—é—Ç—Å—è (–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
  const progressBars = page.locator('[role="progressbar"]')
  const count = await progressBars.count()
  expect(count).toBeGreaterThan(0)
  
  // –®–∞–≥ 10: –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (—Ç–∞–π–º–∞—É—Ç 5 –º–∏–Ω—É—Ç)
  await page.waitForSelector('text=–ó–∞–≤–µ—Ä—à–µ–Ω–æ', { timeout: 300000 }).catch(() => {
    // –ï—Å–ª–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
    console.log('–ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –∑–∞ 5 –º–∏–Ω—É—Ç, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å')
  })
  
  // –®–∞–≥ 11: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ç—á–µ—Ç–æ–≤
  await page.goto('http://localhost:3000/reports')
  
  // –®–∞–≥ 12: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–∫–∞—á–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π PDF-–æ—Ç—á–µ—Ç
  const generateButton = page.locator('button:has-text("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç")')
  if (await generateButton.isVisible()) {
    await generateButton.click()
    
    // –î–æ–∂–¥–∞—Ç—å—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    await page.waitForSelector('button:has-text("–°–∫–∞—á–∞—Ç—å")', { timeout: 60000 })
    
    // –°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç
    const downloadPromise = page.waitForEvent('download')
    await page.locator('button:has-text("–°–∫–∞—á–∞—Ç—å")').click()
    const download = await downloadPromise
    
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª —Å–∫–∞—á–∞–Ω
    expect(download.suggestedFilename()).toContain('.pdf')
  }
  
  // –®–∞–≥ 13: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç—á–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
  // –≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ PDF –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ API
})
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ E2E —Ç–µ—Å—Ç—ã**:

1. **–¢–µ—Å—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏**:
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   - –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è

2. **–¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**:
   - –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É –Ω–∞ backend (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫–ª—é—á–∏—Ç—å –æ–¥–∏–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

---

### –ß–∞—Å—Ç—å 3: –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏

#### 3.1. –ë–µ–Ω—á–º–∞—Ä–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (`tests/performance/normalization_benchmark_test.go`)

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**: `tests/performance/normalization_benchmark_test.go`

**–ó–∞–¥–∞—á–∞**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π.

**–ë–µ–Ω—á–º–∞—Ä–∫–∏**:

1. **BenchmarkNormalization_1KRecords**:
   - –°–æ–∑–¥–∞–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ë–î —Å 1,000 –∑–∞–ø–∏—Å–µ–π –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
   - –ó–∞–ø—É—Å—Ç–∏ –ø–æ–ª–Ω—É—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   - –ó–∞–º–µ—Ä—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - **–¶–µ–ª—å**: < 30 —Å–µ–∫—É–Ω–¥

2. **BenchmarkNormalization_10KRecords**:
   - –°–æ–∑–¥–∞–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ë–î —Å 10,000 –∑–∞–ø–∏—Å–µ–π
   - –ó–∞–º–µ—Ä—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - **–¶–µ–ª—å**: < 5 –º–∏–Ω—É—Ç

3. **BenchmarkNormalization_50KRecords**:
   - –°–æ–∑–¥–∞–π –≤—Ä–µ–º–µ–Ω–Ω—É—é –ë–î —Å 50,000 –∑–∞–ø–∏—Å–µ–π
   - –ó–∞–º–µ—Ä—å –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - **–¶–µ–ª—å**: < 30 –º–∏–Ω—É—Ç

4. **BenchmarkNormalization_Concurrent**:
   - –ó–∞–ø—É—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è 3 —Ä–∞–∑–Ω—ã—Ö –ë–î –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω–∞—Ö
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–Ω–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–µ—Ç –≥–æ–Ω–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π (race conditions)
   - –ü—Ä–æ–≤–µ—Ä—å —Å –ø–æ–º–æ—â—å—é `go test -race`

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**:

```go
func BenchmarkNormalization_1KRecords(b *testing.B) {
    for i := 0; i < b.N; i++ {
        // –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –ë–î
        db, _ := database.NewDB(":memory:")
        // ... –∑–∞–ø–æ–ª–Ω–∏—Ç—å 1K –∑–∞–ø–∏—Å–µ–π ...
        
        // –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
        start := time.Now()
        // ... –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ...
        duration := time.Since(start)
        
        if duration > 30*time.Second {
            b.Errorf("–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è 1K –∑–∞–ø–∏—Å–µ–π –∑–∞–Ω—è–ª–∞ %v, –æ–∂–∏–¥–∞–ª–æ—Å—å < 30s", duration)
        }
    }
}
```

---

### –ß–∞—Å—Ç—å 4: –¢–µ—Å—Ç—ã —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

#### 4.1. "–ó–æ–ª–æ—Ç–æ–π" –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (`tests/data_integrity/golden_dataset_test.go`)

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**:
- `tests/data_integrity/golden_dataset.json` - –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `tests/data_integrity/expected_result.json` - —ç—Ç–∞–ª–æ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `tests/data_integrity/golden_dataset_test.go` - —Ç–µ—Å—Ç

**–ó–∞–¥–∞—á–∞**: –°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `golden_dataset.json`**:

```json
{
  "counterparties": [
    {
      "reference": "ref1",
      "code": "code1",
      "name": "–û–û–û –¢–µ—Å—Ç",
      "inn": "1234567890",
      "bin": ""
    },
    {
      "reference": "ref2",
      "code": "code2",
      "name": "–û–û–û –¢–ï–°–¢",
      "inn": "1234567890",
      "bin": ""
    },
    {
      "reference": "ref3",
      "code": "code3",
      "name": "–û–û–û —Ç–µ—Å—Ç",
      "inn": "1234567890",
      "bin": ""
    }
  ],
  "nomenclature": [
    {
      "reference": "nref1",
      "code": "ncode1",
      "name": "–¢–æ–≤–∞—Ä –¢–µ—Å—Ç",
      "article": "ART001"
    },
    {
      "reference": "nref2",
      "code": "ncode2",
      "name": "—Ç–æ–≤–∞—Ä —Ç–µ—Å—Ç",
      "article": "ART001"
    }
  ]
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `expected_result.json`**:

```json
{
  "counterparties": {
    "groups": [
      {
        "normalized_name": "–û–û–û –¢–µ—Å—Ç",
        "members": ["ref1", "ref2", "ref3"],
        "inn": "1234567890"
      }
    ]
  },
  "nomenclature": {
    "groups": [
      {
        "normalized_name": "–¢–æ–≤–∞—Ä –¢–µ—Å—Ç",
        "members": ["nref1", "nref2"],
        "article": "ART001"
      }
    ]
  }
}
```

**–¢–µ—Å—Ç**:

```go
func TestNormalization_GoldenDataset(t *testing.T) {
    // 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å golden_dataset.json
    // 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ë–î –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–º–∏
    // 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
    // 4. –í—ã–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ë–î
    // 5. –ó–∞–≥—Ä—É–∑–∏—Ç—å expected_result.json
    // 6. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —ç—Ç–∞–ª–æ–Ω–æ–º
    // 7. –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å, –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ
}
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã –∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —ç—Ç–∞–ª–æ–Ω—É
- –ò–ù–ù/–ë–ò–ù –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
- –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö (quality score) —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

### –ß–∞—Å—Ç—å 5: –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

#### 5.1. –¢–µ—Å—Ç—ã –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (`tests/resilience/provider_failure_test.go`)

**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è**: `tests/resilience/provider_failure_test.go`

**–ó–∞–¥–∞—á–∞**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–¥–µ–∂–Ω–∞ –≤ –Ω–µ—à—Ç–∞—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.

**–¢–µ—Å—Ç—ã**:

1. **TestProviderFailure_DaData_500Error**:
   - –ò—Å–ø–æ–ª—å–∑—É—è `httptest.NewServer`, —Å–æ–∑–¥–∞–π –º–æ–∫ –¥–ª—è DaData API
   - –ù–∞—Å—Ç—Ä–æ–π –º–æ–∫ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ HTTP 500 –æ—à–∏–±–∫–∏
   - –ó–∞–ø—É—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º –ò–ù–ù
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—à–∏–±–∫–∞ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

2. **TestProviderFailure_NetworkTimeout**:
   - –í—Ä–µ–º–µ–Ω–Ω–æ —Å–¥–µ–ª–∞–π –æ–¥–∏–Ω –∏–∑ AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º (–∏–∑–º–µ–Ω–∏ `base_url` –Ω–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π)
   - –ó–∞–ø—É—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: `MultiProviderClient` –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–π–º–∞—É—Ç
   - –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ—Å—Ç–æ—è—Ç—å—Å—è –ø–æ –æ—Ç–≤–µ—Ç–∞–º –æ—Ç –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –∑–∞–≤–∏—Å

3. **TestProviderFailure_AllAIProvidersFail**:
   - –í—Å–µ AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—à–∏–±–∫—É
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ UI –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

4. **TestProviderFailure_DatabaseLocked**:
   - –°–∏–º—É–ª–∏—Ä—É–π –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π)
   - –ó–∞–ø—É—Å—Ç–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

5. **TestProviderFailure_MalformedJSON**:
   - –ù–∞—Å—Ç—Ä–æ–π –º–æ–∫ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ JSON
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞
   - –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**:

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ —Å –æ—à–∏–±–∫–æ–π –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –æ–± –æ—à–∏–±–∫–µ
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ –ª–æ–≥–µ –µ—Å—Ç—å `request_id` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –µ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ

---

## üì¶ –ò—Ç–æ–≥–æ–≤—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

### –§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **`server/provider_router_test.go`** ‚Äî Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ DaData/Adata
2. **`server/multi_provider_client_test.go`** ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ (–¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã majority vote, –æ—Ç–∫–∞–∑–æ–≤)
3. **`normalization/counterparty_normalizer_test.go`** ‚Äî –¢–µ—Å—Ç—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –¥–æ–ø–æ–ª–Ω–∏—Ç—å)
4. **`tests/e2e/normalization.spec.ts`** ‚Äî E2E-—Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
5. **`tests/performance/normalization_benchmark_test.go`** ‚Äî –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
6. **`tests/data_integrity/golden_dataset_test.go`** ‚Äî –¢–µ—Å—Ç—ã —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ "–∑–æ–ª–æ—Ç–æ–º" –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
7. **`tests/data_integrity/golden_dataset.json`** ‚Äî –í—Ö–æ–¥–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
8. **`tests/data_integrity/expected_result.json`** ‚Äî –≠—Ç–∞–ª–æ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
9. **`tests/resilience/provider_failure_test.go`** ‚Äî –¢–µ—Å—Ç—ã –Ω–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ (—Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):

```
tests/
‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îî‚îÄ‚îÄ normalization.spec.ts
‚îú‚îÄ‚îÄ performance/
‚îÇ   ‚îî‚îÄ‚îÄ normalization_benchmark_test.go
‚îú‚îÄ‚îÄ data_integrity/
‚îÇ   ‚îú‚îÄ‚îÄ golden_dataset_test.go
‚îÇ   ‚îú‚îÄ‚îÄ golden_dataset.json
‚îÇ   ‚îî‚îÄ‚îÄ expected_result.json
‚îî‚îÄ‚îÄ resilience/
    ‚îî‚îÄ‚îÄ provider_failure_test.go
```

---

## üèÅ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ —É –≤–∞—Å –±—É–¥–µ—Ç –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã. –¢–µ—Å—Ç—ã –ø–æ–∫—Ä–æ—é—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã:

- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (—Ä–æ—É—Ç–µ—Ä, –º—É–ª—å—Ç–∏-–∫–ª–∏–µ–Ω—Ç)
- ‚úÖ –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ UI
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (–∑–æ–ª–æ—Ç–æ–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏ —Å–±–æ—è—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

---

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤

### Backend —Ç–µ—Å—Ç—ã (Go):

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
go test ./server/... ./normalization/... ./integration/...

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
go test ./server/provider_router_test.go

# –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π race conditions
go test -race ./server/...

# –ë–µ–Ω—á–º–∞—Ä–∫–∏
go test -bench=. ./tests/performance/...
```

### E2E —Ç–µ—Å—Ç—ã (Playwright):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Playwright (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
npm install -D @playwright/test
npx playwright install

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npx playwright test tests/e2e/normalization.spec.ts

# –° UI
npx playwright test --ui
```

### –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É:

```bash
# Backend
go test ./...

# Frontend E2E
npx playwright test
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

1. **–í—Å–µ unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: `go test ./server/...` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `PASS`
2. **–í—Å–µ integration-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: `go test ./integration/...` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `PASS`
3. **E2E —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç**: Playwright —Ç–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
4. **–ë–µ–Ω—á–º–∞—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ü–µ–ª—è–º**: –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∑–∞–¥–∞–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
5. **–ó–æ–ª–æ—Ç–æ–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**: –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —ç—Ç–∞–ª–æ–Ω—É
6. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫
7. **–ù–µ—Ç race conditions**: `go test -race` –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –≥–æ–Ω–æ–∫

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–∫–∏**: –ê–¥–∞–ø—Ç–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ `server/multi_provider_client_test.go`
2. **–¢–µ—Å—Ç–∏—Ä—É–π –≤ –∏–∑–æ–ª—è—Ü–∏–∏**: –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º
3. **–ò—Å–ø–æ–ª—å–∑—É–π –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ë–î**: `t.TempDir()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ë–î
4. **–ü—Ä–æ–≤–µ—Ä—è–π edge cases**: –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, nil –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
5. **–õ–æ–≥–∏—Ä—É–π –¥–µ—Ç–∞–ª—å–Ω–æ**: –í —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π `t.Logf` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
6. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã**: –ò—Å–ø–æ–ª—å–∑—É–π `t.Parallel()` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ (–∫—Ä–æ–º–µ —Ç–µ—Å—Ç–æ–≤ —Å –æ–±—â–µ–π –ë–î)

---

**–£–¥–∞—á–∏ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏! üöÄ**

