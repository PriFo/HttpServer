# –°–≤–æ–¥–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—á–µ—Å—Ç–≤–∞

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### Backend Unit-—Ç–µ—Å—Ç—ã

#### 1. `TestAggregateProjectStats_EmptyProject`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ PASS
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –ø—É—Å—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- **–ü—Ä–æ–≤–µ—Ä–∫–∏**:
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –Ω—É–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
  - –ú–∞—Å—Å–∏–≤ `databases` –ø—É—Å—Ç
  - –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞–≤–Ω—ã 0

#### 2. `TestAggregateProjectStats_SingleDatabase`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏—é –¥–ª—è –æ–¥–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–æ–±–ª–µ–º–∞**: –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ `databases` (–≤–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π JSON)

#### 3. `TestAggregateProjectStats_ErrorHandling`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ë–î
- **–ü—Ä–æ–≤–µ—Ä–∫–∏**:
  - –í–∞–ª–∏–¥–Ω—ã–µ –ë–î –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
  - –û—à–∏–±–∫–∏ –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –ë–î –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å
  - –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ —Ö–æ—Ç—è –±—ã –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö –ë–î

#### 4. `TestAggregateProjectStats_ParallelProcessing`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ PASS
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ë–î
- **–ü—Ä–æ–≤–µ—Ä–∫–∏**:
  - –í—Å–µ –ë–î –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
  - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–µ–º–ª–µ–º–æ–µ (< 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è 5 –ë–î)
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### 1. `TestQualityProjectStats_RealData`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏—é –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°—Ü–µ–Ω–∞—Ä–∏–∏**:
  - 5 –ë–î —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (–±–∞–∑–æ–≤—ã–µ, AI-—É–ª—É—á—à–µ–Ω–Ω—ã–µ, —ç—Ç–∞–ª–æ–Ω—ã)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 2. `TestQualityProjectStats_APIEndpoint`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä—É–µ—Ç API endpoint `/api/quality/stats?project=clientId:projectId`
- **–ü—Ä–æ–≤–µ—Ä–∫–∏**:
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π HTTP —Å—Ç–∞—Ç—É—Å (200)
  - –í–∞–ª–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –æ—Ç–≤–µ—Ç–∞
  - –ù–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

### Frontend —Ç–µ—Å—Ç—ã

#### 1. `ProjectDatabasesList` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **–°—Ç–∞—Ç—É—Å**: üìù –°–æ–∑–¥–∞–Ω —à–∞–±–ª–æ–Ω —Ç–µ—Å—Ç–æ–≤
- **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ç–µ—Å—Ç—ã**:
  - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –ø–æ–ª—è–º
  - –í—ã–±–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—à–∏–±–æ–∫

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### Backend
- ‚úÖ `aggregateProjectStats` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- ‚úÖ `HandleQualityStats` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `project` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - —á–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç–æ
- ‚ö†Ô∏è –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ - –ø–æ–∫—Ä—ã—Ç–æ –±–∞–∑–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏

### Frontend
- üìù `ProjectDatabasesList` - —à–∞–±–ª–æ–Ω —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω
- ‚è≥ `QualityPage` - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚è≥ `DatabaseSelector` —Å `projectFilter` - —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–¢–∏–ø–∏–∑–∞—Ü–∏—è JSON –≤ —Ç–µ—Å—Ç–∞—Ö**
   - –ü—Ä–æ–±–ª–µ–º–∞: `databases` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω –∫–∞–∫ –º–∞—Å—Å–∏–≤
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `json.Unmarshal` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏

2. **–û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö**
   - –ü—Ä–æ–±–ª–µ–º–∞: `legacy_routes_adapter.go` –∏–º–µ–µ—Ç –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
   - –†–µ—à–µ–Ω–∏–µ: –ù–µ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–∫—É—â–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏, —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**
   - –¢–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ production (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
   - –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (10+ –ë–î)

2. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**
   - –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
   - Graceful degradation –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Å–±–æ—è—Ö

3. **Frontend —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Jest/Vitest –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å E2E —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ flow –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é –≤ `TestAggregateProjectStats_SingleDatabase`
2. ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
3. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å frontend —Ç–µ—Å—Ç—ã
4. ‚è≥ –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ production
5. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ú–µ—Ç—Ä–∏–∫–∏

- **Unit-—Ç–µ—Å—Ç—ã**: 4 —Å–æ–∑–¥–∞–Ω–æ, 3 –ø—Ä–æ—Ö–æ–¥—è—Ç, 1 —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**: 2 —Å–æ–∑–¥–∞–Ω—ã
- **Frontend —Ç–µ—Å—Ç—ã**: 1 —à–∞–±–ª–æ–Ω —Å–æ–∑–¥–∞–Ω
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: ~70% –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤

‚úÖ **TestAggregateProjectStats_EmptyProject** - PASS  
‚úÖ **TestAggregateProjectStats_SingleDatabase** - PASS (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è)  
‚úÖ **TestAggregateProjectStats_ParallelProcessing** - PASS (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è)  
‚ö†Ô∏è **TestAggregateProjectStats_ErrorHandling** - —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –æ—à–∏–±–∫–∞–º–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö)
