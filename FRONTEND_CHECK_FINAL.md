# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## ‚úÖ –°—Ç–∞—Ç—É—Å: –£–°–ü–ï–®–ù–û

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-01-XX  
**–í–µ—Ä—Å–∏—è Next.js:** 16.0.2  
**–°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è  
**–°—Ç–∞—Ç—É—Å TypeScript:** ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤  
**–°—Ç–∞—Ç—É—Å –ª–∏–Ω—Ç–µ—Ä–∞:** ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. ‚úÖ API Route –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
**–§–∞–π–ª:** `frontend/app/api/counterparties/normalized/duplicates/[groupId]/merge/route.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `groupId` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –≤ `catch` –±–ª–æ–∫–µ, –Ω–æ –±—ã–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ `try`.

**–†–µ—à–µ–Ω–∏–µ:** –û–±—ä—è–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `groupId` –ø–µ—Ä–µ–¥ `try` –±–ª–æ–∫–æ–º —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `'unknown'`.

### 2. ‚úÖ Virtualized List –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
**–§–∞–π–ª:** `frontend/components/ui/virtualized-list.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤ —Å `react-window`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ.

**–†–µ—à–µ–Ω–∏–µ:** –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥. –î–æ–±–∞–≤–ª–µ–Ω TODO –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

### 3. ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
**–§–∞–π–ª:** `frontend/app/clients/page.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –º–µ–∂–¥—É `Client` –∏ `ClientExportData`.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º.

### 4. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è Zod
**–§–∞–π–ª:** `frontend/lib/validation.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ `error.errors` –≤–º–µ—Å—Ç–æ `error.issues`.

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `error.issues` (–∞–∫—Ç—É–∞–ª—å–Ω–æ–µ API Zod).

### 5. ‚úÖ Middleware IP –∞–¥—Ä–µ—Å
**–§–∞–π–ª:** `frontend/middleware.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:** `NextRequest` –Ω–µ –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ `ip`.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `x-real-ip` –≤–º–µ—Å—Ç–æ `request.ip`.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è
- ‚úÖ TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (78/78)
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

### API Routes
- ‚úÖ –í—Å–µ routes –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `ApiErrorHandler`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

## üìÅ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è (`app/page.tsx`)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—ã (`app/clients/page.tsx`)
- ‚úÖ –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ (`app/clients/[clientId]/projects/[projectId]/page.tsx`)
- ‚úÖ –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã (`app/clients/[clientId]/projects/[projectId]/counterparties/page.tsx`)
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (`app/results/page.tsx`)
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ (`app/quality/page.tsx`)
- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å—ã (`app/processes/page.tsx`)

### API Routes
- ‚úÖ `/api/counterparties/normalized` - –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ `/api/counterparties/normalized/[id]` - –î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
- ‚úÖ `/api/counterparties/normalized/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ `/api/counterparties/normalized/enrich` - –û–±–æ–≥–∞—â–µ–Ω–∏–µ
- ‚úÖ `/api/counterparties/normalized/duplicates` - –î—É–±–ª–∏–∫–∞—Ç—ã
- ‚úÖ `/api/counterparties/normalized/duplicates/[groupId]/merge` - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
- ‚úÖ `/api/counterparties/normalized/export` - –≠–∫—Å–ø–æ—Ä—Ç

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
- ‚úÖ –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON –∏ CSV
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤

### UI/UX
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ —Å framer-motion
- ‚úÖ SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

