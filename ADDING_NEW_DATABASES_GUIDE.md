# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∫ –ø—Ä–æ–µ–∫—Ç—É

**–î–∞—Ç–∞:** 2025-11-26  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≥–æ—Ç–æ–≤–æ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –ë–î  

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ë–î –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ API –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ë–î —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- **–ù–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª–æ–≤ –ë–î:** 9
- **–£–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:** 7
- **–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:** 2+ –Ω–æ–≤—ã—Ö –ë–î

---

## üìã –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –ë–î

### –ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
```http
POST /api/upload
Content-Type: multipart/form-data

{
  "file": <database_file.db>,
  "client_id": 1,
  "project_id": 3
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "upload_id": "uuid",
  "file_path": "/path/to/uploaded/file.db",
  "status": "success"
}
```

#### –®–∞–≥ 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ë–î –≤ –ø—Ä–æ–µ–∫—Ç–µ
```http
POST /api/clients/1/projects/3/databases
Content-Type: application/json

{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ë–î",
  "file_path": "/path/to/uploaded/file.db",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 8,
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ë–î",
  "file_path": "/path/to/file.db",
  "is_active": true,
  "created_at": "2025-11-26T00:00:00Z"
}
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```http
GET /api/clients/1/projects/3/normalization/preview-stats
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —Å —É—á–µ—Ç–æ–º –Ω–æ–≤–æ–π –ë–î

---

### –ú–µ—Ç–æ–¥ 2: –†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

#### –®–∞–≥ 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –ë–î –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cp /source/database.db /path/to/project/uploads/
```

#### –®–∞–≥ 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
–¢–æ –∂–µ, —á—Ç–æ –∏ –≤ –ú–µ—Ç–æ–¥–µ 1, –®–∞–≥ 2

---

## üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–¥—Ö–æ–¥** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö:

#### –£—Ä–æ–≤–µ–Ω—å 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—ã `catalogs`
```sql
SELECT EXISTS (
    SELECT 1 FROM catalogs 
    WHERE name = '–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞' OR name LIKE '%–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä%'
)
```

**–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ** ‚Üí `DataType = "nomenclature"`

```sql
SELECT EXISTS (
    SELECT 1 FROM catalogs 
    WHERE name = '–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã' OR name LIKE '%–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç%'
)
```

**–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ** ‚Üí `DataType = "counterparties"`

#### –£—Ä–æ–≤–µ–Ω—å 2: –ü–∞—Ä—Å–∏–Ω–≥ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (fallback)
```go
fileName := filepath.Base(dbFilePath)
fileInfo := database.ParseDatabaseFileInfo(fileName)
dataType := fileInfo.DataType
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- `–í—ã–≥—Ä—É–∑–∫–∞_–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞_ERPWE_*.db` ‚Üí `nomenclature`
- `–í—ã–≥—Ä—É–∑–∫–∞_–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã_1C_*.db` ‚Üí `counterparties`

#### –†–µ–∑—É–ª—å—Ç–∞—Ç
```go
if dataType == "nomenclature" {
    nomenclatureCount = catalogItemsCount
} else {
    counterpartyCount = catalogItemsCount
}
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ë–î –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã

**–§–∞–π–ª:** `–í—ã–≥—Ä—É–∑–∫–∞_–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞_ERPWE_v2_2025.db`

```bash
# 1. –ó–∞–≥—Ä—É–∑–∫–∞
curl -X POST http://localhost:9999/api/upload \
  -F "file=@–í—ã–≥—Ä—É–∑–∫–∞_–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞_ERPWE_v2_2025.db" \
  -F "client_id=1" \
  -F "project_id=3"

# 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST http://localhost:9999/api/clients/1/projects/3/databases \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ERPWE v2 –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞",
    "file_path": "/uploads/–í—ã–≥—Ä—É–∑–∫–∞_–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞_ERPWE_v2_2025.db"
  }'

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
curl http://localhost:9999/api/clients/1/projects/3/normalization/preview-stats
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "total_databases": 8,  // –±—ã–ª–æ 7
  "total_nomenclature": 38696,  // –±—ã–ª–æ 27878 + –Ω–æ–≤–∞—è –ë–î
  "total_counterparties": 20571  // –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
}
```

### –ü—Ä–∏–º–µ—Ä 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ë–î –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤

**–§–∞–π–ª:** `–í—ã–≥—Ä—É–∑–∫–∞_–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã_–ù–æ–≤–∞—è_–°–∏—Å—Ç–µ–º–∞_2025.db`

```bash
# –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "total_databases": 8,  // –±—ã–ª–æ 7
  "total_nomenclature": 27878,  // –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  "total_counterparties": 25000  // –±—ã–ª–æ 20571 + –Ω–æ–≤–∞—è –ë–î
}
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

### –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –ë–î –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –ë–î –ø–æ—è–≤–∏–ª–∞—Å—å –≤ —Å–ø–∏—Å–∫–µ
  ```bash
  GET /api/clients/1/projects/3/databases
  ```

- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å
  ```bash
  GET /api/clients/1/projects/3/normalization/preview-stats
  ```

- [ ] –¢–∏–ø –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
  - –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞: `nomenclature_count > 0`, `counterparty_count = 0`
  - –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã: `counterparty_count > 0`, `nomenclature_count = 0`

- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

| –¢–∏–ø –ë–î | –ò–º—è —Ñ–∞–π–ª–∞ | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|-----------|-------------|-----------|
| –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ | `*–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞*.db` | –ü–æ –∏–º–µ–Ω–∏ | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ |
| –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ | `custom_name.db` + –∫–∞—Ç–∞–ª–æ–≥ "–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞" | –ü–æ –∫–∞—Ç–∞–ª–æ–≥—É | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ |
| –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã | `*–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç*.db` | –ü–æ –∏–º–µ–Ω–∏ | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ |
| –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã | `custom_name.db` + –∫–∞—Ç–∞–ª–æ–≥ "–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã" | –ü–æ –∫–∞—Ç–∞–ª–æ–≥—É | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ |

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```
–í—ã–≥—Ä—É–∑–∫–∞_<–¢–∏–ø>_<–°–∏—Å—Ç–µ–º–∞>_<–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ>_<–î–∞—Ç–∞>.db
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- ‚úÖ `–í—ã–≥—Ä—É–∑–∫–∞_–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞_ERPWE_2025_11_26.db`
- ‚úÖ `–í—ã–≥—Ä—É–∑–∫–∞_–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã_1C_–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è_2025.db`
- ‚ö†Ô∏è `custom_database.db` (–±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É)

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
- `catalog_items` - –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `catalogs` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ `catalog_items`:**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `code` - –∫–æ–¥/–∞—Ä—Ç–∏–∫—É–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `catalog_id` - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥

### 3. –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤

- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π: < 100 –ú–ë
- ‚ö†Ô∏è –î–æ–ø—É—Å—Ç–∏–º—ã–π: < 500 –ú–ë
- ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: > 500 –ú–ë (–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

### 4. –î—É–±–ª–∏–∫–∞—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ:
- –ò–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø–∏—Å–µ–π
- –†–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ë–î —Å —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏, –æ–Ω–∞ –±—É–¥–µ—Ç –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –¥—É–±–ª–∏–∫–∞—Ç.

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–î –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç —Ç–∞–±–ª–∏—Ü—ã `catalogs` –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∞–π–ª, –≤–∫–ª—é—á–∏–≤ —Ç–∏–ø –≤ –Ω–∞–∑–≤–∞–Ω–∏–µ
2. –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `catalogs` –≤ –ë–î:
   ```sql
   CREATE TABLE catalogs (
       id INTEGER PRIMARY KEY,
       name TEXT NOT NULL
   );
   INSERT INTO catalogs (name) VALUES ('–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞');
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–î –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞ –∏–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ë–î
GET /api/clients/1/projects/3/databases/8

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ë–î
PUT /api/clients/1/projects/3/databases/8
{
  "is_active": true
}
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª –ø–æ–≤—Ä–µ–∂–¥–µ–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ë–î:
   ```bash
   sqlite3 database.db "PRAGMA integrity_check;"
   ```
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ SQLite3 –ë–î:
   ```bash
   file database.db
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: SQLite 3.x database
   ```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ë–î –ø—Ä–æ–µ–∫—Ç–∞

```bash
GET /api/clients/1/projects/3/databases
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "databases": [
    {
      "id": 1,
      "name": "ERPWE –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞",
      "file_path": "/uploads/...",
      "is_active": true,
      "nomenclature_count": 10818,
      "counterparty_count": 0,
      "created_at": "2025-11-20T..."
    },
    ...
  ]
}
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
GET /api/clients/1/projects/3/normalization/preview-stats
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "total_databases": 8,
  "valid_databases": 8,
  "total_nomenclature": 38696,
  "total_counterparties": 25000,
  "total_records": 63696,
  "estimated_duplicates": 45,
  "duplicate_groups": 22
}
```

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:** 100% —Ç–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- ‚úÖ **API –≥–æ—Ç–æ–≤:** –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- ‚úÖ **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–∞—Ç–∞–ª–æ–≥ + –∏–º—è —Ñ–∞–π–ª–∞)
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ 7 —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ë–î

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–°–ª–µ–¥—É–π—Ç–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é** –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ë–î
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫
4. **–î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã** –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –ë–î

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç: `NOMENCLATURE_DETECTION_FIX.md`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö: `DATA_VALIDATION_REPORT.md`
- –ê–Ω–∞–ª–∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤: `CATALOG_ANALYSIS_REPORT.md`

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –î–û–ë–ê–í–õ–ï–ù–ò–Æ –ù–û–í–´–• –ë–î  
**–î–∞—Ç–∞:** 2025-11-26  
**–í–µ—Ä—Å–∏—è:** 1.0

