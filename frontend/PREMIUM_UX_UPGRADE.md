# –ü—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UX —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ Vercel, Linear –∏ Notion.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∏–º–∞—Ü–∏–π

- **AnimationProvider** - –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
  - –í–∞—Ä–∏–∞–Ω—Ç—ã: `gentle`, `fast`, `none`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `prefers-reduced-motion`
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `app/layout.tsx`

- **–•—É–∫–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π**:
  - `useAnimatedState` - –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - `useAnimatedList` - –∞–Ω–∏–º–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

- **–ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
  - `AnimatedCard` - –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
  - `AnimatedList` - –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å stagger —ç—Ñ—Ñ–µ–∫—Ç–æ–º

### 2. –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

- **–¢–æ–∫–µ–Ω—ã –¥–∏–∑–∞–π–Ω–∞** (`styles/tokens.ts`):
  - –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (primary, gray, success, error, warning, info)
  - –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å—Ç—É–ø–æ–≤ (xs, sm, md, lg, xl, 2xl, 3xl, 4xl)
  - –†–∞–¥–∏—É—Å—ã —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è
  - –¢–µ–Ω–∏
  - –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ (—Ä–∞–∑–º–µ—Ä—ã, –≤–µ—Å–∞, –≤—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏, –º–µ–∂–±—É–∫–≤–µ–Ω–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
  - Z-index —Å–ª–æ–∏
  - –ü–µ—Ä–µ—Ö–æ–¥—ã

- **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `globals.css`:
  - `--token-spacing-*`
  - `--token-color-*`
  - `--token-shadow-*`
  - `--token-radius-*`
  - `--token-font-size-*`

### 3. –ù–∞–≤–∏–≥–∞—Ü–∏—è

- **–£–ª—É—á—à–µ–Ω–Ω—ã–π Breadcrumbs**:
  - –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∫–æ–Ω–æ–∫
  - –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

- **DashboardSidebar**:
  - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∞–±–æ–≤
  - –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å `layoutId`
  - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Bundle Analyzer**:
  - –ù–∞—Å—Ç—Ä–æ–µ–Ω `@next/bundle-analyzer`
  - –°–∫—Ä–∏–ø—Ç `npm run analyze` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–∞–Ω–¥–ª–∞

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤**:
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Recharts –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - `next/dynamic` –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
  - Tree-shaking —á–µ—Ä–µ–∑ `optimizePackageImports`

### 5. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–µ—Ç—Ä–∏–∫** (`/internal/metrics`):
  - Core Web Vitals (LCP, FID, CLS)
  - –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ (JS/CSS)
  - –í—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (SSR/CSR)
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å Recharts

- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏** (`/internal/worker-trace`):
  - SSE –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–æ–≤
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
  - –ü–æ–∏—Å–∫ –ø–æ trace_id

- **–ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤**:
  - Middleware –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ `admin` –¥–ª—è `/internal/*`
  - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
frontend/
‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îî‚îÄ‚îÄ animation-provider.tsx      # –ü—Ä–æ–≤–∞–π–¥–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–π
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ use-animated-state.ts       # –•—É–∫–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ tokens.ts                   # –¢–æ–∫–µ–Ω—ã –¥–∏–∑–∞–π–Ω–∞
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ common/
‚îÇ       ‚îú‚îÄ‚îÄ animated-card.tsx       # –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ animated-list.tsx       # –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ internal/
‚îÇ       ‚îú‚îÄ‚îÄ layout.tsx              # Layout –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ä–æ—É—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ metrics/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–µ—Ç—Ä–∏–∫
‚îÇ       ‚îî‚îÄ‚îÄ worker-trace/
‚îÇ           ‚îî‚îÄ‚îÄ page.tsx            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
‚îú‚îÄ‚îÄ app/api/internal/
‚îÇ   ‚îî‚îÄ‚îÄ worker-trace/
‚îÇ       ‚îî‚îÄ‚îÄ stream/
‚îÇ           ‚îî‚îÄ‚îÄ route.ts            # SSE —ç–Ω–¥–ø–æ–∏–Ω—Ç
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ ANIMATION_GUIDE.md          # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–Ω–∏–º–∞—Ü–∏—è–º
    ‚îî‚îÄ‚îÄ DESIGN_TOKENS.md            # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–æ–∫–µ–Ω–∞–º
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–Ω–∏–º–∞—Ü–∏–∏

```tsx
import { useAnimationContext } from '@/providers/animation-provider'
import { AnimatedCard } from '@/components/common/animated-card'

function MyComponent() {
  const { variant, setVariant } = useAnimationContext()
  
  return (
    <AnimatedCard title="–ó–∞–≥–æ–ª–æ–≤–æ–∫" variant="hover">
      –ö–æ–Ω—Ç–µ–Ω—Ç
    </AnimatedCard>
  )
}
```

### –¢–æ–∫–µ–Ω—ã –¥–∏–∑–∞–π–Ω–∞

```tsx
import { tokens } from '@/styles/tokens'

<div style={{ 
  padding: tokens.spacing.md,
  color: tokens.color.primary[500],
  borderRadius: tokens.borderRadius.lg
}}>
  –ö–æ–Ω—Ç–µ–Ω—Ç
</div>
```

### CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```css
.my-component {
  padding: var(--token-spacing-md);
  color: var(--token-color-primary-500);
  border-radius: var(--token-radius-lg);
  box-shadow: var(--token-shadow-md);
}
```

## üìä –ê–Ω–∞–ª–∏–∑ –±–∞–Ω–¥–ª–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ –±–∞–Ω–¥–ª–∞:

```bash
npm run analyze
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç HTML –æ—Ç—á–µ—Ç —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞.

## üîê –î–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (`/internal/*`) –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–æ–ª—å—é `admin`.

–í development —Ä–µ–∂–∏–º–µ –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```env
ALLOW_INTERNAL_ACCESS=true
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–Ω–∏–º–∞—Ü–∏—è–º](./docs/ANIMATION_GUIDE.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–æ–∫–µ–Ω–∞–º –¥–∏–∑–∞–π–Ω–∞](./docs/DESIGN_TOKENS.md)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é trace_id –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏–∑ API
- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–Ω–∏–º–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

